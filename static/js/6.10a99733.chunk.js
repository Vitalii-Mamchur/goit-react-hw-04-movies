(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{52:function(e,t,a){"use strict";a.d(t,"e",(function(){return u})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return h})),a.d(t,"d",(function(){return l}));var n=a(60),r=a.n(n),c="5236a2719406752a49bdc856168a1fda",o="https://api.themoviedb.org/3",u=function(){return r.a.get("".concat(o,"/trending/all/day?api_key=").concat(c))},s=function(e){return r.a.get("".concat(o,"/search/movie?api_key=").concat(c,"&query=").concat(e,"&language=en-US&page=1&include_adult=false"))},i=function(e){return r.a.get("".concat(o,"/movie/").concat(e,"?api_key=").concat(c,"&language=en-US"))},h=function(e){return r.a.get("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(c,"&language=en-US"))},l=function(e){return r.a.get("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(c,"&language=en-US"))}},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a(0);var n=a(10),r=a(3),c=a(2),o=Object(r.f)((function(e){var t=e.films,a=e.location;return Object(c.jsx)("ul",{children:t&&t.map((function(e){var t=e.id,r=e.title;return Object(c.jsx)("li",{children:Object(c.jsx)(n.b,{to:{pathname:"/movies/".concat(t),state:{from:a}},children:r})},t)}))})}))},89:function(e,t,a){e.exports={SearchForm:"Searchbar_SearchForm__39Glc",SearchFormButton:"Searchbar_SearchFormButton__PnKW2",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1AsuA",SearchFormInput:"Searchbar_SearchFormInput__296MJ"}},93:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n=a(55),r=a(56),c=a(58),o=a(57),u=a(0),s=a(89),i=a.n(s),h=a(2),l=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.query)return alert("Please, enter your request");e.props.onSubmit(e.state.query)},e}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("form",{className:i.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(h.jsx)("input",{className:i.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"",value:this.state.query,onChange:this.handleChange}),Object(h.jsx)("button",{type:"submit",className:i.a.SearchFormButton,children:Object(h.jsx)("span",{className:i.a.SearchFormButtonLabel,children:"Search"})})]})}}]),a}(u.Component),m=a(52),f=a(61),d=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={movies:[],searchQuery:""},e.handleChangeQuery=function(t){e.setState({searchQuery:t})},e.fetchMovies=function(){var t=e.state.searchQuery;Object(m.c)(t).then((function(t){return t.data.total_results?e.setState({movies:t.data.results}):alert("No results were found for your request, please try again")}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){null!==localStorage.getItem("movies")&&this.setState({movies:JSON.parse(localStorage.getItem("movies"))})}},{key:"componentDidUpdate",value:function(e,t){t.searchQuery!==this.state.searchQuery&&this.fetchMovies(this.state.searchQuery)}},{key:"componentWillUnmount",value:function(e,t){var a=this.state.movies;localStorage.setItem("movies",JSON.stringify(a))}},{key:"render",value:function(){var e=this.state.movies,t=this.state.searchQuery;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"",children:Object(h.jsx)(l,{onSubmit:this.handleChangeQuery,searchQuery:t,onFetch:this.fetchMovies})}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)(f.a,{films:e})})]})}}]),a}(u.Component)}}]);
//# sourceMappingURL=6.10a99733.chunk.js.map